## Common options

# How often should the domains be updated. Uses rust's humantime parsing rules.
update_interval = "30mins"

## Provider Configuration
# Configure DNS providers with their API tokens.
# You can configure multiple providers and select which records update on which providers.

[[providers]]
provider = "digitalocean"
token = "digitalocean_token"

[[providers]]
provider = "hetzner"
token = "hetzner_token"

# The legacy digital_ocean_token field is still supported for DigitalOcean.
digital_ocean_token = "digitalocean_token"

# Setting this option to true will cause the final IP updates to be skipped.
dry_run = false

# Setting this option to true will enable resolving of ipv6 addresses and
# storing them in AAAA records.
# ipv6 = true

# Control default behavior for domain records without explicit providers list.
# When true (default): records without explicit providers list are updated on ALL configured providers
# When false: records without explicit providers list are NOT updated (requires explicit provider specification)
update_all_providers_by_default = false

# Enable collection of statistics (how often does the public IP change) in
# a local sqlite database.
# Disabled by default.
# collect_stats = true

# File path where the sqlite database with statistics will be stored.
# By default stored in one of the following locations:
# Linux: /home/<user>/.config/digitalocean-dyndns/dyndns_db.sqlite
# macOS: /Users/<user>/Library/Application Support/org.alcroito.digitalocean-dyndns/dyndns_db.sqlite
# database_path = "/tmp/dyndns_stats_db.sqlite"

# Enable web server to visualize collected statistics.
# Disabled by default.
# enable_web = true

# An IPv4 / IPv6 address or host name where to serve HTTP pages on.
# In case of host that has a dual IP stack, both will be used.
# Default is localhost.
# listen_hostname = true

# Port number where to serve HTTP pages on.
# Default is 8095.
# listen_port = 8095

## Simple config mode sample

# Updates the IP of the 'home.mysite.com' A record.
domain_root = "mysite.com"
subdomain_to_update = "home"

# Updates the IP of the 'mysite.com' A record.
domain_root = "mysite.com"
update_domain_root = true

## Advanced config mode sample
[[domains]]
name = "mysite.com"

# Updates home.mysite.com on ALL configured providers, when update_all_providers_by_default = true.
[[domains.records]]
type = "A"
name = "home"

# Updates home-backup.mysite.com only on Hetzner
[[domains.records]]
type = "A"
name = "home-backup"
providers = ["hetzner"]

# Updates cdn.mysite.com on both DigitalOcean and Hetzner
[[domains.records]]
type = "A"
name = "cdn"
providers = ["digitalocean", "hetzner"]

# Does NOT update staging.mysite.com on any provider (explicitly disabled)
[[domains.records]]
type = "A"
name = "staging"
providers = []

[[domains]]
name = "mysecondsite.com"

# Updates mysecondsite.com on all providers
[[domains.records]]
type = "A"
name = "@"

# Updates crib.mysecondsite.com only on DigitalOcean
[[domains.records]]
type = "A"
name = "crib"
providers = ["digitalocean"]
